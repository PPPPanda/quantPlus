# Iter10-Full: max_pullback_atr 优化

## 起点
cb=7/70, div=0.39 | TOTAL=13387.3 | p2201=-387.3, p2401=-672.9

## 测试矩阵

| 测试 | 变化参数 | TOTAL | p2201 | p2305 | p2309 | p2401 | 状态 |
|------|---------|-------|-------|-------|-------|-------|------|
| mhb3 | min_hold_bars=3 | 2809.8 | -513.2 | -315.0 | 119.4 | -703.9 | 数据异常 |
| mpa3 | mpa=3.0 | **13431.5** | **-113.6** | -183.6 | -143.4 | -672.9 | FAIL |
| mpa3_div045 | mpa=3.0,div=0.45 | 13434.8 | -113.6 | -199.3 | -151.0 | -672.9 | FAIL |
| mpa25 | mpa=2.5 | 12402.7 | -113.6 | **-316.0** | -34.3 | -672.9 | FAIL |
| cb8_mpa3 | cb=8/80,mpa=3.0 | 12937.7 | **-322.0** | -251.2 | -143.4 | -672.9 | FAIL |
| mpa3_div035 | mpa=3.0,div=0.35 | 12723.4 | -50.0 | -183.6 | -143.4 | -672.9 | FAIL |
| mpa3_trail35 | mpa=3.0,trail=3.5 | 11167.7 | -289.6 | -210.1 | -224.5 | -775.5 | FAIL |
| mpa3_act20 | mpa=3.0,**act=2.0** | **13843.2** | **-35.6** | -183.6 | -131.4 | -686.9 | FAIL |

## 关键发现
1. **max_pullback_atr=3.0 修复 p2201**：-387.3 → -113.6（+274 pts），但代价是 p2305 从 -146.3 → -183.6
2. **mpa=3.0 和 p2305 的矛盾**：tighter pullback filter 阻止了 p2305 某些本会盈利的入场
3. **atr_activate_mult=2.0 提升 TOTAL**：13431→13843（+412 pts），且不伤害弱合约
4. **p2401 完全免疫**：-672.9 ~ -686.9，跨所有15+参数组合无变化
5. 放弃方向：min_hold_bars=3（数据加载异常）、trail=3.5（灾难性）、cb=8（破坏p2201）

## 结论
- mpa+act 组合发现了好参数，但 mpa=3.0 和 p2305 存在 tradeoff
- 需要找 mpa 的中间值来同时满足 p2201 和 p2305
